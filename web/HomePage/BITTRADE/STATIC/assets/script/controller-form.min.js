
var bean={};var emptyFormData=false;var controllerForm={clickBtnId:"#btn_submit",dataId:"#form",modeldata:{input_amount:"",input_total:"",po_rel_id:"",page_code:""},setBeanData:function(a){bean=a},setOnComplet:function(){},setInitForm:function(a){switch(a){case"memberjoin":actionMemberJoin(this.clickBtnId,this.dataId,this.setOnComplet);break;case"memberrequestjoinemail":actionMemberRequestJoinEmail(this.clickBtnId,this.dataId,this.setOnComplet);break;case"memberrequestpwd":actionMemberRequestPwd(this.clickBtnId,this.dataId,this.setOnComplet);break;case"memberrequestpwdprove":actionMemberRequestpwdProve(this.clickBtnId,this.dataId,this.setOnComplet);break;case"memberEdit":actionMemberEdit(this.clickBtnId,this.dataId,this.setOnComplet);break;case"memberNotify":actionMemberNotify(this.clickBtnId,this.dataId,this.setOnComplet);break;case"tradebitcoin":actionTradeBitcoin(this.clickBtnId,this.modeldata,this.setOnComplet);break;case"depositkrw":actionDepositKrw(this.clickBtnId,this.dataId,this.setOnComplet);break;case"withdrawkrw":actionWithdrawKrw(this.clickBtnId,this.dataId,this.setOnComplet);break;case"withdrawkrwCancel":actionWithdrawkrwCancel(this.clickBtnId,this.dataId,this.setOnComplet);break;case"withdrawbtc":actionWithdrawBtc(this.clickBtnId,this.dataId,this.setOnComplet);break;case"withdrawbtcCancel":actionWithdrawbtcCancel(this.clickBtnId,this.dataId,this.setOnComplet);break;case"qnaSend":actionQnaSend(this.clickBtnId,this.dataId,this.setOnComplet);break;case"requirementSend":actionRequirementSend(this.clickBtnId,this.dataId,this.setOnComplet);break;case"notifymarketcost":actionNotifyMarketcost(this.clickBtnId,this.dataId,this.setOnComplet);break;case"notifymarketcostCancel":actionNotifyMarketcostCancel(this.clickBtnId,this.dataId,this.setOnComplet);break;case"actionverificationform":actionVerificationForm(this.clickBtnId,this.dataId,this.setOnComplet);break;case"actionverificationformmobile":actionVerificationFormMobile(this.clickBtnId,this.dataId,this.setOnComplet);break;case"tradecoin":actionTradeCoin(this.clickBtnId,this.modeldata,this.setOnComplet);break;case"actionusertradebitcoinupdate":actionUserTradeBitcoinUpdate(this.clickBtnId,this.dataId,this.setOnComplet)}},login:function(b,a,c){$(b).click(function(){loginproc(b,a,c)})},login2ch:function(b,a,c){login2chproc(b,a,c)},otpstatus:function(b,a,c){actionOtpStatus(b,a,c)},duplication:function(b,a,c){$(b).click(function(){actionDuplication(b,a,c)})},tradeOrder:function(a,b){actionTradeOrder(a,b)},userTradeOrder:function(a,b){actionTradeBitcoinOrder(a,b)},userTradeBitcoinCancel:function(a,b){actionUserTradeBitcoinCancel(a,b)},userTradeOrderCancel:function(a,b){actionUserTradeBitcoinCancel(a,b)}};function loginproc(d,c,i){$(d).attr("disabled",true);var f=$("input[name=mb_id]").val();var a=$("input[name=mb_pwd]").val();var e=$("#login-noty");var h=/^[a-zA-z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9]{2,4}$/i;if(!f){e.html("<p>"+langConvert("lang.msgPleaseInputEmailAddress","")+"</p>");e.show();$(d).attr("disabled",false);return false}else{if(f.length<5){e.html("<p>"+langConvert("lang.msgIncorrectEmailAddress","")+"</p>");e.show();$(d).attr("disabled",false);return false}else{if(!h.test(f)){e.html("<p>"+langConvert("lang.msgIncorrectEmailAddress","")+"</p>");e.show();$(d).attr("disabled",false);return false}else{if(!a){e.html("<p>"+langConvert("lang.msgPleaseInputPassword","")+"</p>");e.show();$(d).attr("disabled",false);return false}else{if(a.length<5){e.html("<p>"+langConvert("lang.msgPleaseInputLeast5CharactersForYourPassword","")+"</p>");e.show();$(d).attr("disabled",false);return false}else{if(accountPageSet.recaptcha==true&&!$("#g-recaptcha-response").val()){e.html("<p>"+langConvert("lang.msgRobotCheck","")+"</p>");e.show();$(d).attr("disabled",false);return false}else{e.html("");var b=$.base64.encode(a);b=sha256_digest(f+b);$("input[name='encId']").val($.base64.encode(f));$("input[name='encPwd']").val(b);$("input[name='mb_pwd']").val("");var g=$("form").serialize();$("input[name='encId']").val(f);$.post(bean.link.proc,g,function(k){if(parseInt(k.result)>0){if($("input:checkbox[id='remember-me']").is(":checked")){Utils.setCookie("login-id",f,3600*24*100)}else{Utils.setCookie("login-id",f,0)}if(k.hasOwnProperty("otp")&&k.otp==true){var m=$("#login2ch");$("input[name='encId']").val($.base64.encode(f));m.method="POST";m.submit()}else{if(typeof i==="function"){i()}}}else{if(parseInt(k.result)==0){$(d).attr("disabled",false);controllerComm.alertError("<p>"+langConvert("lang.msgIncorrectAuthenticationMember","")+"</p>")}else{if(parseInt(k.result)==-800){$(d).attr("disabled",false);var l="<p>"+langConvert("lang.msgPleaseClickReSendIfYouHaventReceivedTheConfirmationEmail","")+"</p>";l+='<p><button type="button" class="btn btn-success" onclick="location.href=\'/account/signrequest\'">'+langConvert("lang.viewAccountSignrequestpwdSingUpEmailRequest","")+"</button></p>";controllerComm.alertError(k.error+" <br />"+l)}else{$(d).attr("disabled",false);for(var j in k){if(k[j]==null||k[j].length==0||k[j]=="null"){$("input[name="+j+"]").addClass("errorinput")}else{$("input[name="+j+"]").removeClass("errorinput");$("input[name="+j+"]").val(k[j])}}var l="";if(k.autherror){l=k.autherror}controllerComm.alertError(k.error+" <br />"+l,function(){$('input[name="mb_pwd"]').focus()});if(k.recaptcha==true){recaptchaOnloadCallback()}}}}},"json").done(function(){}).always(function(){});return false}}}}}}}function actionDuplication(f,a,h){$(f).attr("disabled",true);var b=$("#signup-alert-mbid");var c=$("input[name=mb_id]").val();var e=/^[a-zA-z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9]{2,4}$/i;var g={query:c};var d=jQuery.param(g);b.html("");b.hide();if(!c){b.html("<p>"+langConvert("lang.msgPleaseInputEmailAddress","")+"</p>");b.show();$(f).attr("disabled",false);return false}else{if(c.length<5){b.html("<p>"+langConvert("lang.msgIncorrectEmailAddress","")+"</p>");b.show();$(f).attr("disabled",false);return false}else{if(!e.test(c)){b.html("<p>"+langConvert("lang.msgIncorrectEmailAddress","")+"</p>");b.show();$(f).attr("disabled",false);return false}else{$.post("/webmember/duplication/",d,function(i){if(typeof h=="function"){h(i)}},"json").error(function(){}).fail(function(){controllerComm.alertError("<p>"+langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}).always(function(){})}}}return false}function login2chproc(e,a,f){$(e).attr("disabled",true);var d=$("input[name=g_otp]").val();var b=$("div#req-noty");if(!d){b.html("<p>Check form</p>");b.css("color","#d00000");$(e).attr("disabled",false);return false}else{b.html("");var c=$("#otp-regist").serialize();$(e).button("loading");$.post(bean.link.proc,c,function(g){if(typeof f==="function"){f(g)}},"json").done(function(){}).always(function(){$(e).button("reset")});return false}}function actionOtpStatus(c,a,d){var b=$("#otp-status").serialize();$(c).button("loading");$.post(bean.link.proc,b,function(e){if(typeof d==="function"){d(e)}},"json").done(function(){}).always(function(){$(c).button("reset")});return false}function actionTradeOrder(b,k){var e="";var j=0;var g=0;var h=0;var a=0;var f=$("input[name='action']").val();var d=$("input[name='token']").val();if(f=="buybtc"){e=langConvert("lang.menuExchangeShort","")+" > "+langConvert("lang.menuExchageBuybtcShort","");f="buybtc";j=($("input[name='input_amount']").val()+"").toFloat();h=($("input[name='input_total']").val()+"").toFloat();a=($("input[name='current_market_price']").val()+"").toFloat()}else{if(f=="sellbtc"){e=langConvert("lang.menuExchangeShort","")+" > "+langConvert("lang.menuExchageSellbtcShort","");f="sellbtc";h=($("input[name='input_btc']").val()+"").toFloat();g=($("input[name='input_total']").val()+"").toFloat();a=($("input[name='current_market_price']").val()+"").toFloat()}}var c={it_name:e,it_action:f,it_id_pay:"",it_market_cost:a,od_total_cost:h,od_temp_btc:j,od_temp_krw:g,od_receipt_btc:0,od_receipt_krw:0,od_del_yn:"N",partner:"",token:d};var i=jQuery.param(c);$.post(bean.link.proc,i,function(l){if(typeof k==="function"){k(l)}},"json").error(function(){controllerComm.alertError(langConvert("lang.msgServerAccessError","")+" "+langConvert("lang.msgTryAgainLater",""),function(){document.location.reload()})}).fail(function(){controllerComm.alertError(langConvert("lang.msgServerAccessError","")+" "+langConvert("lang.msgTryAgainLater",""),function(){document.location.reload()})}).always(function(){})}function actionTradeBitcoinOrder(b,j){var d="";var i=0;var f=0;var g=0;var a=0;var e=$("input[name='action']").val();if(e=="buybtc"){d="buybtc";i=($("input[name='input_btc']").val()+"").toFloat();g=($("input[name='input_total']").val()+"").toFloat();a=($("input[name='input_price']").val()+"").toFloat()}else{if(e=="sellbtc"){d="sellbtc";i=($("input[name='input_btc']").val()+"").toFloat();g=($("input[name='input_amount']").val()+"").toFloat();a=($("input[name='input_price']").val()+"").toFloat()}}var c={it_name:d,it_id_pay:"",it_market_cost:a,od_total_cost:g,od_temp_btc:i,od_temp_krw:f,od_receipt_btc:0,od_receipt_krw:0,od_del_yn:"N",partner:""};var h=jQuery.param(c);$.post(bean.link.proc,h,function(k){if(typeof j==="function"){j(k)}},"json").always(function(){})}function actionUserTradeBitcoinCancel(a,d){var c={od_id:a,od_pay_status:"CAN",currency:bean.currency};var b=jQuery.param(c);$.post(bean.link.proc,b,function(e){if(typeof d==="function"){d(e)}},"json").always(function(){})}function actionMemberJoin(i,t,k){var v=$("#signup-alert-mbid");var y=$("#signup-alert-mbpwd");var w=$("#signup-alert-mbname");var n=$("#signup-alert-policy");var d=$("#signup-alert-mbhp");var q=$("#signup-alert-mbcertnumber");var c=$("input[name=mb_id]").val();var h=$("input[name=mb_pwd]").val();var j=$("input[name=mb_pwd_re]").val();var s=$("input[name=mb_last_name]").val();var A=$("input[name=mb_first_name]").val();var r=$("select[name=country_code]").val();var b=$("input[name=mb_country_dial_code]").val();var p=$("input[name=mb_hp]").val();var x=$("input[name=mb_cert_number]").val();var a=/^[a-zA-z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9]{2,4}$/i;v.html("");y.html("");w.html("");d.html("");q.html("");n.html("");v.hide();y.hide();w.hide();d.hide();q.hide();n.hide();if(!c){v.html("<p>"+langConvert("lang.msgPleaseInputEmailAddress","")+"</p>");v.show();$(i).attr("disabled",false);return false}else{if(c.length<5){v.html("<p>"+langConvert("lang.msgIncorrectEmailAddress","")+"</p>");v.show();$(i).attr("disabled",false);return false}else{if(!a.test(c)){v.html("<p>"+langConvert("lang.msgIncorrectEmailAddress","")+"</p>");v.show();$(i).attr("disabled",false);return false}}}if(!h&&!j){y.html("<p>"+langConvert("lang.msgPleaseInputPassword","")+"</p>");y.show();$(i).attr("disabled",false);return false}else{if(h.length<5&&j.length<5){y.html("<p>"+langConvert("lang.msgPleaseInputLeast5CharactersForYourPassword","")+"</p>");y.show();$(i).attr("disabled",false);return false}else{if(h!=j){y.html("<p>"+langConvert("lang.msgPleaseInputIdenticalPassword","")+"</p>");y.show();$(i).attr("disabled",false);return false}}}if(!s){w.html("<p>"+langConvert("lang.msgPleaseInputYourName","")+"</p>");w.show();$(i).attr("disabled",false);return false}if(!A){w.html("<p>"+langConvert("lang.msgPleaseInputYourName","")+"</p>");w.show();$(i).attr("disabled",false);return false}if($("input:checkbox[name='mb_agree']").is(":unchecked")){console.log(1);n.html("<p>"+langConvert("lang.msgPleaseReadTheTermsOfUsePleaseCheckTheAgreement","")+"</p>");n.show();$(i).attr("disabled",false);return false}else{if($("input:checkbox[name='mb_agree2']").is(":unchecked")){console.log(2);n.html("<p>"+langConvert("lang.msgPleaseReadCheckTheBoxToAgreeToThePrivacyPolicies","")+"</p>");n.show();$(i).attr("disabled",false);return false}else{if(!$("#g-recaptcha-response").val()){console.log(3);n.html("<p>"+langConvert("lang.msgRobotCheck","")+"</p>");n.show();$(i).attr("disabled",false);return false}else{v.html("");y.html("");w.html("");d.html("");q.html("");n.html("");v.hide();y.hide();w.hide();d.hide();q.hide();n.hide();var u=$.base64.encode(c);var f=$.base64.encode(h);f=sha256_digest(c+f);var B=$.base64.encode(j);B=sha256_digest(c+B);var z=encodeURI(s);z=$.base64.encode(z);var o=encodeURI(A);o=$.base64.encode(o);var l=encodeURI(b);l=$.base64.encode(l);var m=null;var g=null;$("input[name='mb_id']").val(u);$("input[name='mb_pwd']").val(f);$("input[name='mb_pwd_re']").val(B);$("input[name='mb_last_name']").val(z);$("input[name='mb_first_name']").val(o);$("input[name='mb_country_dial_code']").val(l);var e=$("form").serialize();$("input[name='mb_id']").val(c);$("input[name='mb_pwd']").val(h);$("input[name='mb_pwd_re']").val(j);$("input[name='mb_last_name']").val(s);$("input[name='mb_first_name']").val(A);$("input[name='mb_country_dial_code']").val(b);$.post(bean.link.proc,e,function(C){if(typeof(C.result)!="undefined"){if(parseInt(C.result)==1&&parseInt(C.mailsend)==1){controllerComm.alertError("<p>"+langConvert("lang.msgConfirmationLinkHasBeenSentToYourEmailAddress","")+"</p></p>"+langConvert("lang.msgPleaseVisitTheLinkToActivateYourAccount","")+"</p>",function(){$(location).attr("href","/account/signin/")})}else{if(parseInt(C.result)==-5101){var D=(typeof C.error!="undefined")?C.error:langConvert("lang.msgPleaseDefineInputData","")+" "+langConvert("lang.msgTryAgainLater","");controllerComm.alertError(D,function(){$(location).attr("href","/account/signup/")})}else{if(parseInt(C.result)==-5102){$(i).attr("disabled",false);var D=(typeof C.error!="undefined")?C.error:langConvert("lang.msgPleaseEnterTheCorrectVerificationNumber","")+" "+langConvert("lang.msgTryAgainLater","");controllerComm.alertError(D)}else{if(parseInt(C.result)==-5103||parseInt(C.result)==-5104||parseInt(C.result)==-800||parseInt(C.result)==-801){$(i).attr("disabled",false);grecaptcha.reset();controllerComm.alertError("<p>"+C.error+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){$(location).attr("href","/account/signup/")})}else{if(parseInt(C.result)==-5111||parseInt(C.result)==-5112||parseInt(C.result)==-5113){var D=(typeof C.error!="undefined")?C.error:langConvert("lang.msgSuccessfulSignupButFailedToDeliveryTheEmail","")+"</p><p>"+langConvert("lang.msgPleaseResendSignupConfirmationEmail","");controllerComm.alertError(D,function(){$(location).attr("href","/account/signrequest/")})}else{$(i).attr("disabled",false);var D=(typeof C.error!="undefined")?C.error:langConvert("lang.msgSignupFailed","")+" "+langConvert("lang.msgTryAgainLater","");controllerComm.alertError(D,function(){$(location).attr("href","/account/signup/")})}}}}}}else{controllerComm.alertError("<p>"+langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){$(location).attr("href","/account/signup/")})}},"json").done(function(){}).fail(function(){controllerComm.alertError("<p>"+langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){$(location).attr("href","/account/signup/")})}).always(function(){});return false}}}}function actionMemberJoinProve(b,a,c){$.getJSON("/email/registconfirm/action-sendemail/type-join/mb_id-"+$.base64.encode(uid),"",function(d){if(typeof(d.result)!="undefined"&&d.result==1){controllerComm.alertError("<p></p>",function(){$(location).attr("href","/")})}else{controllerComm.alertError("<p></p>",function(){$(location).attr("href","/")})}},"json").done(function(){$(b).attr("disabled",false)}).fail(function(){controllerComm.alertError("<p>"+langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}).always(function(){})}function actionMemberRequestJoinEmail(e,a,f){$(e).attr("disabled",true);var c=$("input[name=mb_id]").val();var b=$("#req-noty");var d=/^[a-zA-z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9]{2,4}$/i;if(!c){b.html("<p>"+langConvert("lang.msgPleaseInputEmailAddress","")+"</p>");b.show();$(e).attr("disabled",false);return false}else{if(c.length<5){b.html("<p>"+langConvert("lang.msgIncorrectEmailAddress","")+"</p>");b.show();$(e).attr("disabled",false);return false}else{if(!d.test(c)){b.html("<p>"+langConvert("lang.msgIncorrectEmailAddress","")+"</p>");b.show();$(e).attr("disabled",false);return false}}}$.getJSON("/email/requestconfirm/action-sendemail/type-rejoin/mb_id-"+$.base64.encode(c),"",function(g){if(typeof(g.result)!="undefined"&&g.result==1){controllerComm.alertError("<p>"+langConvert("lang.msgIfYouAccountExistsPleaseCheckEmailWithConfirmationLink","")+"</p></p>"+langConvert("lang.msgPleaseVisitTheLinkToActivateYourAccount","")+"</p>",function(){$(location).attr("href","/account/signin")})}else{if(typeof(g.result)!="undefined"&&g.result==-6105){var h=(typeof g.error!="undefined")?g.error+langConvert("lang.msgTryAgainLater",""):langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","");controllerComm.alertError("<p>"+h+"</p>",function(){document.location.reload()})}else{controllerComm.alertError("<p>"+langConvert("lang.msgIfYouAccountExistsPleaseCheckEmailWithPasswordRecoveryLink","")+"</p></p>"+langConvert("lang.msgPleaseVisitTheLinkToActivateYourAccount","")+"</p>",function(){$(location).attr("href","/account/signin")})}}},"json").done(function(){}).fail(function(){controllerComm.alertError("<p>"+langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}).always(function(){})}function actionMemberRequestPwd(e,a,f){$(e).attr("disabled",true);var c=$("input[name=mb_id]").val();var b=$("#req-noty");var d=/^[a-zA-z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9]{2,4}$/i;if(!c){b.html("<p>"+langConvert("lang.msgPleaseInputEmailAddress","")+"</p>");b.show();$(e).attr("disabled",false);return false}else{if(c.length<5){b.html("<p>"+langConvert("lang.msgIncorrectEmailAddress","")+"</p>");b.show();$(e).attr("disabled",false);return false}else{if(!d.test(c)){b.html("<p>"+langConvert("lang.msgIncorrectEmailAddress","")+"</p>");b.show();$(e).attr("disabled",false);return false}}}$.getJSON("/email/requestconfirm/action-sendemail/type-pwd/mb_id-"+$.base64.encode(c),"",function(g){if(typeof(g.result)!="undefined"&&g.result==1){controllerComm.alertError("<p>"+langConvert("lang.msgIfYouAccountExistsPleaseCheckEmailWithConfirmationLink","")+"</p></p>"+langConvert("lang.msgPleaseVisitLinkRecoveryYourPassword","")+"</p>",function(){$(location).attr("href","/account/signin")})}else{if(typeof(g.result)!="undefined"&&g.result==-6105){var h=(typeof g.error!="undefined")?g.error+langConvert("lang.msgTryAgainLater",""):langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","");controllerComm.alertError("<p>"+h+"</p>",function(){document.location.reload()})}else{controllerComm.alertError("<p>"+langConvert("lang.msgIfYouAccountExistsPleaseCheckEmailWithPasswordRecoveryLink","")+"</p></p>"+langConvert("lang.msgPleaseVisitLinkRecoveryYourPassword","")+"</p>",function(){$(location).attr("href","/account/signin")})}}},"json").done(function(){}).fail(function(){controllerComm.alertError("<p>"+langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}).always(function(){})}function actionMemberRequestpwdProve(c,a,i){$(c).attr("disabled",true);var f=$("input[name=mb_pwd]").val();var j=$("input[name=mb_pwd_re]").val();var e=$("h4#confirm-noty");if(!f&&!j){e.html("<p>"+langConvert("lang.msgPleaseInputPassword","")+"</p>");e.show();$(c).attr("disabled",false);return false}else{if(f.length<5&&j.length<5){e.html("<p>"+langConvert("lang.msgPleaseInputLeast5CharactersForYourPassword","")+"</p>");e.show();$(c).attr("disabled",false);return false}else{if(f!=j){e.html("<p>"+langConvert("lang.msgPleaseInputIdenticalPassword","")+"</p>");e.show();$(c).attr("disabled",false);return false}}}var b=document.URL;var h=b.indexOf("/returnemail/confirmpwd/");var g=b.slice(h+24);var d=b.slice(h+56);var b={action:"confirmemail",type:"pwd",mb_id:d.substring(d,d.indexOf("/mbkey")),mbkey:b.slice(b.indexOf("mbkey")+6),mb_pwd:sha256_digest($.base64.decode(d.substring(d,d.indexOf("/mbkey")))+$.base64.encode(f))};var g=jQuery.param(b);$.post(bean.link.proc,g,function(k){if(typeof i==="function"){i(k)}},"json").done(function(){$(c).attr("disabled",false)}).fail(function(){controllerComm.alertError("<p>"+langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}).always(function(){})}function actionMemberEdit(d,c,k){$(d).attr("disabled",true);var j=$("input[name=mb_id]").val();var b=$("input[name=mb_pwd]").val();var h=$("input[name=mb_new_pwd]").val();var g=$("input[name=mb_new_pwd_re]").val();$("#edit_mb_pwd_alert").html("");$("#edit_mb_new_pwd_alert").html("");$("#edit_mb_new_pwd_re_alert").html("");$("#edit_mb_pwd_alert").hide();$("#edit_mb_new_pwd_alert").hide();$("#edit_mb_new_pwd_re_alert").hide();if(!b){$("#edit_mb_pwd_alert").html('<p class="p_t6_padding">'+langConvert("lang.msgPleaseInputCurrentPassword","")+"</p>");$("#edit_mb_pwd_alert").show();$(d).attr("disabled",false);return false}else{if(!h){$("#edit_mb_new_pwd_alert").html('<p class="p_t6_padding">'+langConvert("lang.msgPleaseConfirmNewPassword","")+"</p>");$("#edit_mb_new_pwd_alert").show();$(d).attr("disabled",false);return false}else{if(!g){$("#edit_mb_new_pwd_re_alert").html('<p class="p_t6_padding">'+langConvert("lang.msgPleaseConfirmNewPassword_confirm","")+"</p>");$("#edit_mb_new_pwd_re_alert").show();$(d).attr("disabled",false);return false}else{if(h!=g){$("#edit_mb_new_pwd_alert").html('<p class="p_t6_padding">'+langConvert("lang.msgPleaseInputIdenticalPassword","")+"</p>");$("#edit_mb_new_pwd_alert").show();$(d).attr("disabled",false);return false}else{if(h.length<5||g.length<5){$("#edit_mb_new_pwd_alert").html('<p class="p_t6_padding">'+langConvert("lang.msgPleaseInputLeast5CharactersForYourPassword","")+"</p>");$("#edit_mb_new_pwd_alert").show();$(d).attr("disabled",false);return false}else{if(!h){$("#edit_mb_new_pwd_alert").html('<p class="p_t6_padding">'+langConvert("lang.msgPleaseConfirmNewPassword","")+"</p>");$("#edit_mb_new_pwd_alert").show();$(d).attr("disabled",false);return false}else{$("#edit_mb_new_pwd_alert").html("");$("#edit_mb_new_pwd_re_alert").html("");$("#edit_mb_pwd_alert").html("");$("#edit_mb_new_pwd_alert").hide();$("#edit_mb_new_pwd_re_alert").hide();$("#edit_mb_pwd_alert").hide();var a=$.base64.encode(h);a=sha256_digest(j+a);var e=$.base64.encode(b);e=sha256_digest(j+e);var f=$.base64.encode(j);$("input[name='mb_id']").val(f);$("input[name='mb_new_encPwd']").val(a);$("input[name='mb_encPwd']").val(e);$("input[name='mb_new_pwd']").val(a);$("input[name='mb_new_pwd_re']").val(a);$("input[name='mb_pwd']").val(e);var i=$("form").serialize();$("input[name='mb_id']").val(j);$("input[name='mb_pwd']").val(b);$("input[name='mb_new_pwd']").val(h);$("input[name='mb_new_pwd_re']").val(g);$.post(bean.link.proc,i,function(l){if(parseInt(l.result)>0){controllerComm.alertError("<p>"+langConvert("lang.msgProfileChanged","")+"</p>",function(){document.location.reload()})}else{controllerComm.alertError("<p>"+langConvert("lang.msgFailedToChangeProfile","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}})}}}}}}}function actionMemberNotify(e,a,h){$("#btn_notify").attr("disabled",true);var b="N";var g="N";var d="N";if($("input:checkbox[name='mb_notify_exchange']").is(":checked")){b="Y"}if($("input:checkbox[name='mb_notify_trade']").is(":checked")){g="Y"}if($("input:checkbox[name='mb_notify_withdrawals']").is(":checked")){d="Y"}var f={mb_notify_exchange:b,mb_notify_trade:g,mb_notify_withdrawals:d};var c=jQuery.param(f);$.post(bean.link.proc,c,function(i){if(parseInt(i.result)>0){controllerComm.alertError("<p>"+langConvert("lang.msgAlertSettingChange","")+"</p>",function(){$.getJSON("/webmember/notifystatus/","json",function(k){}).success(function(j){document.location.reload()}).error(function(){controllerComm.alertError("<p>"+langConvert("lang.msgFailedToGetAlertSetting","")+"</p><p>"+langConvert("lang.msgErrorRepeatedPleaseReLogin","")+"</p>",function(){})})})}else{controllerComm.alertError("<p>"+langConvert("lang.msgFailedToChangeAlertSetting","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}})}function closePreTradeModal(){$(".modal").modal("hide")}function actionTradeCoin(c,b,d){$(c).attr("disabled",true);$.ajaxSetup({type:"POST",timeout:60000,error:function(e){closePreTradeModal();initBalanceSum();controllerComm.alertError("<p>"+langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p><!--<p>"+e.statusText+" ["+e.status+"]</p>-->",function(){document.location.reload()})}});var a=jQuery.param(b);$(c).button("loading");$.post(bean.link.proc,a,function(e){if(Number(e.result)==0){if(typeof d==="function"){d(e)}}else{if(Number(e.result)>0){SendEvent.sendTradeRegist();if(typeof d==="function"){if(typeof e.complete!="undefined"){if(e.complete=="OK"||e.complete=="PART"){SendEvent.sendTradeComplete()}}d(e)}}else{if(Number(e.result)<0){if(typeof d==="function"){d(e)}}}}},"json").always(function(){$(c).button("reset")})}function closePreDepositCashModal(){$(".depositCashModal_btnnm").html(langConvert("lang.commonKrwChargeRequest",""));eventDom.btnDepositCashSubmit.attr("disabled",false);eventDom.btnSubmitCancel.attr("disabled",false);$("#depositCashModal").modal("hide")}function actionDepositKrw(c,a,e){eventDom.error_msg.html("");if(!depositCashSet.od_name.val()){closePreDepositCashModal();controllerComm.alertError("<p>"+langConvert("lang.msgPleaseInputDepositorsName","")+"</p>");eventDom.error_msg.html("<p>"+langConvert("lang.msgPleaseInputDepositorsName","")+"</p>");eventDom.error_msg.show();eventDom.btnDepositCash.attr("disabled",false);return false}else{if(parseInt(depositCashSet.od_temp_bank.val().unformatWon())==0){closePreDepositCashModal();controllerComm.alertError("<p>"+langConvert("lang.msgPleaseInputDepositAmount","")+"</p>");eventDom.error_msg.html("<p>"+langConvert("lang.msgPleaseInputDepositAmount","")+"</p>");eventDom.error_msg.show();eventDom.btnDepositCash.attr("disabled",false);return false}else{eventDom.error_msg.html("");eventDom.error_msg.hide()}}var d={it_id:1,it_name:langConvert("lang.commonItemKrwPoint",""),od_name:depositCashSet.od_name.val(),od_temp_bank:parseInt(depositCashSet.od_temp_bank.val().unformatWon()),od_bank_name:depositCashSet.od_bank_name.text(),od_bank_owner:depositCashSet.od_bank_owner.text(),od_bank_account:depositCashSet.od_bank_account.text(),od_shop_memo:langConvert("lang.msgKrwDepositRechargeRequest",""),od_settle_case:langConvert("lang.commonBankAccountUnavailable","")};var b=jQuery.param(d);$.post(bean.link.proc,b,function(f){$("#depositCashModal").modal("hide");if(typeof(f.result)!="undefined"&&f.result>=1){controllerComm.alertError("<p>"+langConvert("lang.msgKrwDepositRechargeRequestSucceeded","")+"</p>",function(){document.location.reload()})}else{var g=(typeof f.error!="undefined")?f.error:langConvert("lang.msgKrwDepositRechargeRequestFailedPleaseTryAgain","");controllerComm.alertError(g,function(){document.location.reload()})}},"json").done(function(){$(c).attr("disabled",false)}).fail(function(){controllerComm.alertError("<p>"+langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}).always(function(){})}function closePreWithdrawCashModal(){$(".withdrawCashModal_btnnm").html(langConvert("lang.commonWithdrawalRequest",""));eventDom.btnWithdrawCashSubmit.attr("disabled",false);eventDom.btnSubmitCancel.attr("disabled",false);$("#withdrawCashModal").modal("hide")}function actionWithdrawKrw(c,a,e){if(!withdrawCashSet.request.val()){closePreWithdrawCashModal();controllerComm.alertError("<p>"+langConvert("lang.msgPleaseInputWithdrawalAmount","")+"</p>");eventDom.error_msg.html("<p>"+langConvert("lang.msgPleaseInputWithdrawalAmount","")+"</p>");eventDom.error_msg.show();eventDom.btnWithdrawCash.attr("disabled",false);return false}else{if(parseInt(withdrawCashSet.request.val().unformatWon())<parseInt(withdrawCashSet.cash_min_limit)){closePreWithdrawCashModal();controllerComm.alertError("<p>"+langConvert("lang.msgPleaseEnsureTheMinimumWithdrawalLimitOfxxKrw",[withdrawCashSet.cash_min_limit.formatWon()])+"</p>");eventDom.error_msg.html("<p>"+langConvert("lang.msgPleaseEnsureTheMinimumWithdrawalLimitOfxxKrw",[withdrawCashSet.cash_min_limit.formatWon()])+"</p>");eventDom.error_msg.show();eventDom.btnWithdrawCash.attr("disabled",false);return false}else{if(withdrawCashSet.cash_daily_max_limit_result==true&&parseInt(withdrawCashSet.request.val().unformatWon())>parseInt(withdrawCashSet.cash_daily_max_limit)){closePreWithdrawCashModal();controllerComm.alertError("<p>"+langConvert("lang.msgPleaseEnsureTheDailyWithdrawalLimit","")+langConvert("lang.msgPleaseEnsureTheMaximumWithdrawalLimitOfxxKrw",[withdrawCashSet.cash_daily_max_limit.formatWon()])+"</p>");eventDom.error_msg.html("<p>"+langConvert("lang.msgPleaseEnsureTheDailyWithdrawalLimit","")+langConvert("lang.msgPleaseEnsureTheMaximumWithdrawalLimitOfxxKrw",[withdrawCashSet.cash_daily_max_limit.formatWon()])+"</p>");eventDom.error_msg.show();eventDom.btnWithdrawCash.attr("disabled",false);return false}else{if(!withdrawCashSet.bank_name.val()){closePreWithdrawCashModal();controllerComm.alertError("<p>"+langConvert("lang.msgPleaseInputTheBankName","")+"</p>");eventDom.error_msg.html("<p>"+langConvert("lang.msgPleaseInputTheBankName","")+"</p>");eventDom.error_msg.show();eventDom.btnWithdrawCash.attr("disabled",false);return false}else{if(!withdrawCashSet.bank_account.val()){closePreWithdrawCashModal();controllerComm.alertError("<p>"+langConvert("lang.msgPleaseInputTheBankAccount","")+"</p>");eventDom.error_msg.html("<p>"+langConvert("lang.msgPleaseInputTheBankAccount","")+"</p>");eventDom.error_msg.show();eventDom.btnWithdrawCash.attr("disabled",false);return false}else{if((withdrawCashSet.bank_account.val()).length<8){closePreWithdrawCashModal();controllerComm.alertError("<p>"+langConvert("lang.msgPleaseEnterMoreThan8LetterForYourAccountNumber","")+"</p>");eventDom.error_msg.html("<p>"+langConvert("lang.msgPleaseEnterMoreThan8LetterForYourAccountNumber","")+"</p>");eventDom.error_msg.show();eventDom.btnWithdrawCash.attr("disabled",false);return false}else{if(!withdrawCashSet.bank_holder.val()){closePreWithdrawCashModal();controllerComm.alertError("<p>"+langConvert("lang.msgPleaseInputDepositorsName","")+"</p>");eventDom.error_msg.html("<p>"+langConvert("lang.msgPleaseInputDepositorsName","")+"</p>");eventDom.error_msg.show();eventDom.btnWithdrawCash.attr("disabled",false);return false}else{eventDom.error_msg.html("");eventDom.error_msg.hide()}}}}}}}var d={type:"regist",od_bank_name:withdrawCashSet.bank_name.val(),od_bank_account:withdrawCashSet.bank_account.val(),od_bank_holder:withdrawCashSet.bank_holder.val(),od_temp_amount:parseInt(withdrawCashSet.request.val().unformatWon()),od_receipt_amount:0,od_fee:parseInt(withdrawCashSet.fee.val().unformatWon())};var b=jQuery.param(d);$.post(bean.link.proc,b,function(f){$("#withdrawCashModal").modal("hide");if(typeof(f.result)!="undefined"){if(parseInt(f.result)>1&&parseInt(f.mailsend)==1){controllerComm.alertError("<p>"+withdrawCashSet.request.val()+langConvert("lang.msgKrwWithdrawalRequestSucceded","")+"</p><p>"+langConvert("lang.msgPleaseConfirmTheWithdrawalRequestEmail","")+"</p>",function(){document.location.reload()})}else{if(parseInt(f.result)>1&&parseInt(f.mailsend)==-1){controllerComm.alertError("<p>"+withdrawCashSet.request.val()+langConvert("lang.msgSuccessfulKrwWithdrawalRequestButFailedToDeliverTheEmail","")+"</p><p>"+langConvert("lang.msgPleaseCustomerServiceContactUs","")+"</p>",function(){document.location.reload()})}else{var g=(typeof f.error!="undefined")?f.error:langConvert("lang.msgKrwWithdrawalRequestFailed","")+" "+langConvert("lang.msgTryAgainLater","");controllerComm.alertError(g,function(){document.location.reload()})}}}else{controllerComm.alertError("<p>"+langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}},"json").done(function(){$(c).attr("disabled",false)}).fail(function(){controllerComm.alertError("<p>"+langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}).always(function(){})}function actionWithdrawkrwCancel(d,a,f){var b=$("input[name='od_id']").val();var e={od_id:b,od_pay_status:"CAN"};var c=jQuery.param(e);$.post(bean.link.proc,c,function(g){$("#withdrawCashModal").modal("hide");if(typeof(g[0].result)!="undefined"&&g[0].result==1){controllerComm.alertError("<p>"+langConvert("lang.msgKrwWithdrawalRequestHasBeenCanceled","")+"</p>",function(){document.location.reload()})}else{if(typeof(g[0].result)!="undefined"&&g[0].result==0){controllerComm.alertError("<p>"+langConvert("lang.msgKrwWithdrawalRequestHasBeenAlreadyCanceled","")+"</p>",function(){document.location.reload()})}else{controllerComm.alertError("<p>"+langConvert("lang.msgFailedToCancelKrwWithdrawalRequest","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}}},"json").done(function(){$(d).attr("disabled",false)}).fail(function(){$("#withdrawCashModal").modal("hide");controllerComm.alertError("<p>"+langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}).always(function(){})}function closePreWithdrawBtcModal(){$(".withdrawbtcModal_btnnm").html(langConvert("lang.commonWithdrawalRequest",""));eventDom.btnWithdrawBtcSubmit.attr("disabled",false);eventDom.btnSubmitCancel.attr("disabled",false);$("#withdrawBtcModal").modal("hide")}function actionWithdrawBtc(e,a,g){if(exchangePageSet.is_owner_address==1){closePreWithdrawBtcModal();controllerComm.alertError("<p>"+langConvert("lang.msgIncorrectBtcAddress","")+"</p>");eventDom.btc_account_alert.html("<p>"+langConvert("lang.msgIncorrectBtcAddress","")+"</p>");eventDom.btc_account_alert.show();eventDom.btnWithdrawBtc.attr("disabled",true);return false}else{if(exchangePageSet.is_outer_address==-1&&exchangePageSet.is_sendto_address<=0){closePreWithdrawBtcModal();controllerComm.alertError("<p>"+langConvert("lang.msgIncorrectBtcAddress","")+"</p>");eventDom.btc_account_alert.html("<p>"+langConvert("lang.msgIncorrectBtcAddress","")+"</p>");eventDom.btc_account_alert.show();eventDom.btnWithdrawBtc.attr("disabled",true);return false}else{if(exchangePageSet.is_correct_address==1&&exchangePageSet.is_sendto_address==1&&(exchangePageSet.btc_sendto==null||exchangePageSet.btc_sendto=="")){closePreWithdrawBtcModal();controllerComm.alertError("<p>"+langConvert("lang.msgIncorrectInnerBtcAddress","")+"</p>");eventDom.btc_account_alert.html("<p>"+langConvert("lang.msgIncorrectInnerBtcAddress","")+"</p>");eventDom.btc_account_alert.show();eventDom.btnWithdrawBtc.attr("disabled",true);return false}else{if(!exchangePageSet.btc_account.val()){closePreWithdrawBtcModal();controllerComm.alertError("<p>"+langConvert("lang.msgPleaseInputBtcAddress","")+"</p>");eventDom.btc_account_alert.html("<p>"+langConvert("lang.msgPleaseInputBtcAddress","")+"</p>");eventDom.btc_account_alert.show();eventDom.btnWithdrawBtc.attr("disabled",true);return false}else{if(parseFloat(exchangePageSet.request_btc.val())>exchangePageSet.float_mb_btc){closePreWithdrawBtcModal();controllerComm.alertError("<p>"+langConvert("lang.msgPleaseEnsureYourBtcAccountBalance","")+"</p>");eventDom.request_btc_alert.html("<p>"+langConvert("lang.msgPleaseEnsureYourBtcAccountBalance","")+"</p>");eventDom.request_btc_alert.show();eventDom.btnWithdrawBtc.attr("disabled",true);return false}else{if(!exchangePageSet.request_btc.val()){closePreWithdrawBtcModal();controllerComm.alertError("<p>"+langConvert("lang.msgPleaseInputBtcWithdrawalAmount","")+"</p>");eventDom.request_btc_alert.html("<p>"+langConvert("lang.msgPleaseInputBtcWithdrawalAmount","")+"</p>");eventDom.request_btc_alert.show();eventDom.btnWithdrawBtc.attr("disabled",true);return false}else{if(parseFloat(exchangePageSet.request_btc.val())<parseFloat(exchangePageSet.btc_min_limit)){closePreWithdrawBtcModal();controllerComm.alertError("<p>"+langConvert("lang.msgPleaseEnsureTheMinimumWithdrawalLimitOfxxBtc",[(exchangePageSet.btc_min_limit)])+"</p>");eventDom.request_btc_alert.html("<p>"+langConvert("lang.msgPleaseEnsureTheMinimumWithdrawalLimitOfxxBtc",[(exchangePageSet.btc_min_limit)])+"</p>");eventDom.request_btc_alert.show();eventDom.btnWithdrawBtc.attr("disabled",true);return false}else{if(exchangePageSet.btc_daily_max_limit_result==true&&parseFloat(exchangePageSet.request_btc.val())>parseFloat(exchangePageSet.btc_daily_max_limit)){closePreWithdrawBtcModal();controllerComm.alertError("<p>"+langConvert("lang.msgPleaseEnsureTheDailyWithdrawalLimit","")+"</p><p>"+langConvert("lang.msgPleaseEnsureTheMaximumWithdrawalLimitOfxxBtc",[(exchangePageSet.btc_daily_max_limit+"").formatNumber()])+"</p>");eventDom.request_btc_alert.html("<p>"+langConvert("lang.msgPleaseEnsureTheDailyWithdrawalLimit","")+"</p><p>"+langConvert("lang.msgPleaseEnsureTheMaximumWithdrawalLimitOfxxBtc",[(exchangePageSet.btc_daily_max_limit+"").formatNumber()])+"</p>");eventDom.request_btc_alert.show();eventDom.btnWithdrawBtc.attr("disabled",true);return false}else{eventDom.btc_account_alert.html("");eventDom.request_btc_alert.html("");eventDom.btnWithdrawBtc.attr("disabled",false);var d="withdrawbtc";var b="";if(exchangePageSet.is_correct_address==1&&(exchangePageSet.is_sendto_address==1||exchangePageSet.is_outer_address==0)){b=exchangePageSet.btc_sendto;d="sendtobtc"}var f={type:"regist",odaction:d,od_btc_account:exchangePageSet.btc_account.val(),od_btc_comment:exchangePageSet.btc_comment.val(),od_bank_name:"",od_bank_account:"",od_bank_holder:"",od_btc_sendto:b,od_request_btc:exchangePageSet.float_request_btc,od_request_krw:0,od_receipt_btc:0,od_receipt_krw:0,od_total_fee:parseFloat(exchangePageSet.request_fee)};var c=jQuery.param(f);$.post(bean.link.proc,c,function(h){$("#withdrawBtcModal").modal("hide");if(parseInt(h.result)>1&&parseInt(h.mailsend)==1){controllerComm.alertError("<p>"+(exchangePageSet.float_request_btc+"")+langConvert("lang.msgBtcWithdrawalRequestSucceeded","")+"</p><p>"+langConvert("lang.msgPleaseConfirmTheWithdrawalRequestEmail","")+"</p>",function(){document.location.reload()})}else{if(parseInt(h.result)>1&&parseInt(h.mailsend)==-1){controllerComm.alertError("<p>"+(exchangePageSet.float_request_btc+"")+langConvert("lang.msgSuccessfulBtcWithdrawalRequestButFailedToDeliverTheEmail","")+"</p><p>"+langConvert("lang.msgPleaseCustomerServiceContactUs","")+"</p>",function(){document.location.reload()})}else{var i="error";if(h.error!="undefined"){i=h.error}controllerComm.alertError(i,function(){document.location.reload()})}}},"json").done(function(){$(e).attr("disabled",false)}).fail(function(){controllerComm.alertError("<p>"+langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}).always(function(){})}}}}}}}}}function actionWithdrawbtcCancel(d,a,f){var b=$("input[name='od_id']").val();var e={od_id:b,od_pay_status:"CAN"};var c=jQuery.param(e);$.post(bean.link.proc,c,function(g){$("#withdrawBtcModal").modal("hide");if(typeof(g[0].result)!="undefined"&&g[0].result==1){controllerComm.alertError("<p>"+langConvert("lang.msgBtcWithdrawalRequestHasBeenCanceled","")+"</p>",function(){document.location.reload()})}else{if(typeof(g[0].result)!="undefined"&&g[0].result==0){controllerComm.alertError("<p>"+langConvert("lang.msgBtcWithdrawalRequestHasBeenAlreadyCanceled","")+"</p>",function(){document.location.reload()})}else{controllerComm.alertError("<p>"+langConvert("lang.msgFailedToCancelBtcWithdrawalRequest","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}}},"json").done(function(){$(d).attr("disabled",false)}).fail(function(){$("#withdrawBtcModal").modal("hide");controllerComm.alertError("<p>"+langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}).always(function(){})}function actionQnaSend(c,b,i){var f=$("input[name=qna_nm]").val();var d=$("input[name=qna_email]").val();var a=$("textarea[name=qna_contents]").val();var h=/^[a-zA-z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9]{2,4}$/i;$("#qna_nm_alert").html("");$("#qna_email_alert").html("");$("#qna_contents_alert").html("");if(!f){$("#qna_nm_alert").html("<p>"+langConvert("lang.msgPleaseInputTheUsername","")+"</p>");$("#qna_nm_alert").show();return false}else{if(d.length<5){$("#qna_email_alert").html("<p>"+langConvert("lang.msgIncorrectEmailAddress","")+"</p>");$("#qna_email_alert").show();return false}else{if(!h.test(d)){$("#qna_email_alert").html("<p>"+langConvert("lang.msgIncorrectEmailAddress","")+"</p>");$("#qna_email_alert").show();return false}else{if(!a){$("#qna_contents_alert").html("<p>"+langConvert("lang.msgPleaseInputYourEnquiry","")+"</p>");$("#qna_contents_alert").show();return false}else{var e={ch_no:110,cate_name:langConvert("lang.viewCsQnalistTitle",""),mb_nick:f,subject:$("select[name=qna_subject]").val(),contents:a,etc1:d};var g=jQuery.param(e);$.post(bean.link.proc,g,function(j){if(parseInt(j.result)==0){if(typeof i==="function"){i(false)}}else{if(parseInt(j.result)>0){if(typeof i==="function"){i(true)}}}},"json").done(function(){$(c).attr("disabled",false)}).fail(function(){controllerComm.alertError("<p>"+langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}).always(function(){})}}}}}function actionRequirementSend(c,b,i){var f=$("input[name=qna_nm]").val();var d=$("input[name=qna_email]").val();var a=$("textarea[name=qna_contents]").val();var h=/^[a-zA-z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9]{2,4}$/i;$("#qna_nm_alert").html("");$("#qna_email_alert").html("");$("#qna_contents_alert").html("");if(!f){$("#qna_nm_alert").html("<p>"+langConvert("lang.msgPleaseInputTheUsername","")+"</p>");$("#qna_nm_alert").show();return false}else{if(d.length<5){$("#qna_email_alert").html("<p>"+langConvert("lang.msgIncorrectEmailAddress","")+"</p>");$("#qna_email_alert").show();return false}else{if(!h.test(d)){$("#qna_email_alert").html("<p>"+langConvert("lang.msgIncorrectEmailAddress","")+"</p>");$("#qna_email_alert").show();return false}else{if(!a){$("#qna_contents_alert").html("<p>"+langConvert("lang.msgPleaseInputYourEnquiry","")+"</p>");$("#qna_contents_alert").show();return false}else{var e={ch_no:110,cate_name:langConvert("lang.menuCsREquirement",""),mb_nick:f,subject:$("select[name=qna_subject]").val(),contents:a,etc1:d};var g=jQuery.param(e);$.post(bean.link.proc,g,function(j){if(parseInt(j.result)==0){if(typeof i==="function"){i(false)}}else{if(parseInt(j.result)>0){if(typeof i==="function"){i(true)}}}},"json").done(function(){$(c).attr("disabled",false)}).fail(function(){controllerComm.alertError("<p>"+langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}).always(function(){})}}}}}function actionNotifyMarketcost(c,k,d){var i=notifyPageSet.market_cost.val();var j=parseInt(notifyPageSet.market_cost_min);var l=parseInt(notifyPageSet.market_cost_max);var q=notifyPageSet.input_market_cost_min;var r=notifyPageSet.input_market_cost_max;var o=eventDom.market_cost_min_parent;var g=eventDom.market_cost_min_alert;var e=eventDom.market_cost_max_parent;var p=eventDom.market_cost_max_alert;var b=eventDom.btn_notify;var m="";var n=(j+"").substring(j.length-3);var h=(l+"").substring(l.length-3);b.html('<span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span> Wait..');b.attr("disabled",true);e.removeClass("has-error");e.removeClass("btn-default");p.html("");o.removeClass("has-error");o.removeClass("btn-default");g.html("");if(j.length>0&&parseInt(j)<1000){q.val("");j=0;o.addClass("has-error");g.html("<p>"+lang.alert_please_enter_minimum_krw_1000+"</p>");g.css("color","#d00000");b.html(langConvert("lang.alert_market_price_noticy",""));b.attr("disabled",false)}else{if(j.length>0&&(parseInt(i)<=parseInt(j))){q.val("");j=0;o.addClass("has-error");g.html("<p>"+lang.alert_please_enter_amount_lower_price_than_current_market_price+"</p>");g.css("color","#d00000");b.html(langConvert("lang.alert_market_price_noticy",""));b.attr("disabled",false)}else{if(j.length>0&&(n=="500"||n=="000")){o.addClass("btn-default");j=0;g.html("");e.addClass("btn-default");l=0;p.html("");b.html(langConvert("lang.alert_market_price_noticy",""));b.attr("disabled",false)}else{if(l.length>0&&(parseInt(i)>=parseInt(l))){l=0;r.val("");e.addClass("has-error");p.html("<p>"+lang.alert_please_enter_amount_higher_price_than_current_market_price+"</p>");p.css("color","#d00000");b.html(langConvert("lang.alert_market_price_noticy",""));b.attr("disabled",false)}else{if(h=="500"||h=="000"){e.addClass("btn-default");l=0;p.html("");o.addClass("btn-default");j=0;g.html("");b.html(langConvert("lang.alert_market_price_noticy",""));b.attr("disabled",false)}else{if(q.val().length==0&&r.val().length==0){o.addClass("has-error");g.html("<p>"+lang.alert_please_enter_amount_higher_price_than_current_market_price+"</p>");g.css("color","#d00000");e.addClass("has-error");p.html("<p>"+lang.alert_please_enter_amount_higher_price_than_current_market_price+"</p>");p.css("color","#d00000");b.html(langConvert("lang.alert_market_price_noticy",""));b.attr("disabled",false)}else{if(q.val().length!=0&&i<=parseInt(j)){o.addClass("has-error");g.html("<p>"+lang.alert_please_enter_amount_higher_price_than_current_market_price+"</p>");g.css("color","#d00000");b.html(langConvert("lang.alert_market_price_noticy",""));b.attr("disabled",false)}else{if(r.val().length!=0&&i>=parseInt(l)){e.addClass("has-error");p.html("<p>"+lang.alert_please_enter_amount_higher_price_than_current_market_price+"</p>");p.css("color","#d00000");b.html(langConvert("lang.alert_market_price_noticy",""));b.attr("disabled",false)}else{var f={wm_subject:langConvert("lang.alert_market_price_nitification_service",""),wm_content:"",wm_type:"ticker",wm_market_cost_min:notifyPageSet.market_cost_min,wm_market_cost_max:notifyPageSet.market_cost_max};var a=jQuery.param(f);$.post(bean.link.proc,a,function(s){if(parseInt(s.result)>0){controllerComm.alertError("<p>"+langConvert("lang.alert_price_notification_request_has_been_completed","")+"</p><p>"+langConvert("lang.msgThanks","")+".</p>",function(){document.location.reload()})}else{controllerComm.alertError("<p>"+langConvert("lang.alert_failed_request_price_notification","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}},"json").done(function(){}).fail(function(){controllerComm.alertError("<p>"+langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}).always(function(){})}}}}}}}}}function actionNotifyMarketcostCancel(c,a,e){eventDom.btn_notify.html('<span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span> Wait..');eventDom.btn_notify.attr("disabled",true);var d={wm_status:"CAN",wm_no:notifyPageSet.wm_no};var b=jQuery.param(d);$.post(bean.link.proc,b,function(f){if(parseInt(f.result)>0){controllerComm.alertError("<p>"+langConvert("lang.alert_price_notification_service_cancel_complete","")+"</p><p>"+langConvert("lang.msgThanks","")+".</p>",function(){document.location.reload()})}else{controllerComm.alertError("<p>"+langConvert("lang.alert_cancel_price_notification_failed","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}},"json").done(function(){}).fail(function(){controllerComm.alertError("<p>"+langConvert("lang.msgServerAccessProblem","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}).always(function(){})}function actionVerificationForm(d,b,g){var f=$('input[name="mb_cur_level"]').val();var e=$('input[name="mb_req_level"]').val();var a=$("input[name='mb_prove_method']").val();var i=$('input[name="mb_prove_file1"]').val();var h=$('input[name="mb_prove_file2"]').val();$(d).attr("disabled",true);if(!i){$("#verification-alert-mbprovefile1").html("<p>"+langConvert("lang.msgPleaseAttachTheFile","")+"</p>");$("#verification-alert-mbprovefile1").show();$(d).attr("disabled",false);return false}else{if(!h){$("#verification-alert-mbprovefile2").html("<p>"+langConvert("lang.msgPleaseAttachTheFile","")+"</p>");$("#verification-alert-mbprovefile2").show();$(d).attr("disabled",false);return false}}var c=new FormData();c.append("mb_id",get_member.mb_id);c.append("mb_cur_level",get_member.mb_level);c.append("mb_req_level",e);c.append("mb_prove_method",a);c.append("mb_prove_file1",$('input[name="mb_prove_file1"]')[0].files[0]);c.append("mb_prove_file2",$('input[name="mb_prove_file2"]')[0].files[0]);$.ajax({url:bean.link.proc,data:c,processData:false,contentType:false,type:"POST",success:function(j){if(typeof(j)!="undefined"){if(parseInt(j.result)>0){controllerComm.alertError("<p>"+langConvert("lang.msgTheInformationRequestIsComplete","")+"</p>",function(){$(location).attr("href","/account/verificationcenter/")})}else{if(parseInt(j.result)==-5402){var k=(typeof j.error!="undefined")?j.error:langConvert("lang.msgVerificationRequestFailed","")+" "+langConvert("lang.msgTryAgainLater","");$(d).attr("disabled",false);controllerComm.alertError(k,function(){$(location).attr("href","/account/verificationcenter/")})}else{var k=(typeof j.error!="undefined")?j.error:langConvert("lang.msgVerificationRequestFailed","")+" "+langConvert("lang.msgTryAgainLater","");$(d).attr("disabled",false);controllerComm.alertError(k,function(){})}}}else{var k=langConvert("lang.msgVerificationRequestFailed","")+" "+langConvert("lang.msgTryAgainLater","");$(d).attr("disabled",false);controllerComm.alertError(k,function(){$(location).attr("href","/account/verificationform/")})}},always:function(){$(d).attr("disabled",false)}})}function actionVerificationFormMobile(g,f,n){$(g).attr("disabled",true);var h=$("#signup-alert-mbhp");var b=$("#signup-alert-mbcertnumber");var k=$('input[name="mb_hp"]').val();var a=$('input[name="mb_cert_number"]').val();var i=$('select[name="country_code"]').val();var o=$('input[name="mb_country_dial_code"]').val();if(k.length<9){$(g).attr("disabled",false);var e=langConvert("lang.msgIncorrectMobileNumber","");controllerComm.alertError("<p>"+e+"</p>");$("#verification-alert-mbhp").html("<p>"+e+"</p>");$("#verification-alert-mbhp").show();return false}else{if(a.length!=6){$(g).attr("disabled",false);var e=langConvert("lang.msgPleaseEnterTheCorrectVerificationNumber","");controllerComm.alertError("<p>"+e+"</p>");$("#verification-alert-mbcertnumber").html("<p>"+e+"</p>");$("#verification-alert-mbcertnumber").show();return false}}var d=$.base64.encode(k);var j=$.base64.encode(a);var c=$.base64.encode(i);var m=$.base64.encode(o);var l={mb_hp:d,mb_cert_number:j,country:c,mb_country_dial_code:m};$.post(bean.link.proc,l,function(p){if(typeof(p.result)!="undefined"){if(parseInt(p.result)==1){var q=langConvert("lang.viewAccountVerificationformmobileRequestIsComplete","");controllerComm.alertError(q,function(){$(location).attr("href","/account/verificationcenter")})}else{$(g).attr("disabled",false);var q=(typeof p.error!="undefined")?p.error:langConvert("lang.viewAccountVerificationformmobileRequestFailed","")+" "+langConvert("lang.msgTryAgainLater","");controllerComm.alertError(q)}}else{controllerComm.alertError("<p>"+langConvert("lang.viewAccountVerificationformmobileRequestFailed","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}},"json").done(function(){}).fail(function(){controllerComm.alertError("<p>"+langConvert("lang.viewAccountVerificationformmobileRequestFailed","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}).always(function(){});return false}function actionUserTradeBitcoinUpdate(c,a,e){$("#btn_update_cancel").attr("disabled",true);$("#btn_update_submit").attr("disabled",true);var b=tradeUpdatePageSet;var d=(tradeUpdatePageSet.od_temp_btc*tradeUpdatePageSet.it_market_cost);b.od_total_cost=calfloat("FLOOR",d,0);b.token=$("input[name='token']").val();$.post(bean.link.proc,b,function(f){$("#tradeUpdateModal").hide();$("#btn_update_cancel").attr("disabled",false);$("#btn_update_submit").attr("disabled",false);if(typeof(f.result)!="undefined"){if(typeof(f.token)!="undeinfed"){if($("input[name='token']").length>0){$("input[name='token']").val(f.token)}}if(parseInt(f.result)>0){SendEvent.sendTradeRegist();var g=langConvert("lang.msgTheModifiedOrderIsComplete","");controllerComm.alertError(g,function(){setTimeout("getListUncomplet()",0);setTimeout("initBalanceSum()",200);setTimeout("getListComplet()",500)})}else{var g=(typeof f.error!="undefined")?f.error:langConvert("lang.msgFailedToModifyTheOrderRequest","")+" "+langConvert("lang.msgTryAgainLater","");controllerComm.alertError(g,function(){setTimeout("getListUncomplet()",0);setTimeout("initBalanceSum()",200);setTimeout("getListComplet()",500)})}}else{controllerComm.alertError("<p>"+langConvert("lang.msgFailedToModifyTheOrderRequest","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}},"json").done(function(){}).fail(function(){controllerComm.alertError("<p>"+langConvert("lang.msgFailedToModifyTheOrderRequest","")+"</p><p>"+langConvert("lang.msgTryAgainLater","")+"</p>",function(){document.location.reload()})}).always(function(){});return false};