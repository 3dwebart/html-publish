
var bean=$.parseJSON($.base64.decode(jsonObject));var selectedPage=1;var nbCmtPages=(bean.common.totalPage)?bean.common.totalPage:0;var nbPageLength=5;var pageObj;function getLastestNum(a){return bean.common.totalCount-(bean.common.limitRow*(a-1))}function getFirstNum(a){return bean.common.limitRow*(a-1)+1}function getSearchUrl(d){var b=bean.link.lists+"&page="+d;var c=$.getUrlVar("sf");var a=$.getUrlVar("sv");if(c&&a){b=b+"&sf="+c+"&sv="+a}return b}function viewLink(a){$(location).attr("href",bean.link.view+"&id="+a+"#page:"+selectedPage)}function getColCount(){var a=0;var b=$.parseJSON(listHeader);for(var c in b[0]){if(b[0].hasOwnProperty(c)){++a}}return a}var getPageParam=function(b){var a;document.URL.split("#").forEach(function(c){if(b==c.split(":")[0]){a=c.split(":")[1]}});return a};function getLists(a){$.getJSON(getSearchUrl(a),"json",function(b){backdata=b;selectedPage=a}).done(function(){$(".lists").html($("<table />",{"class":"tlists_basic",html:writeListHead($.parseJSON(listHeader))+writeListBody(backdata)}));$("#pageloading").hide()}).fail(function(){$("#pageloading").hide();$("body").viewDialogMessage("<p>서버와 연결중 에러가 발생하였습니다.</p><p>잠시 뒤 다시 시도해 보세요.</p>")}).always(function(){selectedPage=a;$("#pageloading").hide();pageloadset.selectedPage=selectedPage;$("#pagination").trigger("selectpage",pageloadset,a)})}var pageloadset={nbPages:nbCmtPages,selectedPage:selectedPage,marginPx:6,length:nbPageLength,overBtnLeft:"#over_backward",overBtnRight:"#over_forward",maxBtnLeft:"#max_backward",maxBtnRight:"#max_forward",onPageClicked:function(b,c){if(selectedPage!=c&&c>0){$(location).attr("href","#page:"+c)}}};function moveTopageSet(){var a=getPageParam("page");if(document.URL.indexOf("#page:")){if(typeof a!=="undefined"){if(a>0){getLists(a)}}}}function weiteExcelDownlod(h){if(h>1000){h=1000}var d="";var c=Math.ceil(bean.common.totalCount/h);var g=$('select[name="sf"] option:selected').val();var k=$('input[name="sv"]').val();var e=$('input[name="svdf"]').val();var j=$('input[name="svdt"]').val();for(var f=0;f<c;f++){var a=f+1;var b=bean.link.lists.replace("%2Flists","")+"/downloadExcel&page="+a+"&limit="+h+"&sf="+g+"&sv="+k+"&svdf="+e+"&svdt="+j;d+='<button class="btn-default" onclick="document.location.href=\''+b+"'\">#"+a+"</button>"}$("#list_download_excel").html(d)}window.onhashchange=function(){moveTopageSet()};function initCalendarSearchFrom(){var a="yy-mm-dd",d=$("input[name='svdf']").datepicker({defaultDate:"+1w",changeMonth:true,changeYear:true,dateFormat:"yy-mm-dd",yearRange:"2015:2050",dayNamesMin:["월","화","수","목","금","토","일"],monthNamesShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],numberOfMonths:3}).on("change",function(){c.datepicker("option","minDate",b(this))}),c=$("input[name='svdt']").datepicker({defaultDate:"+1w",changeMonth:true,changeYear:true,dateFormat:"yy-mm-dd",yearRange:"2015:2050",dayNamesMin:["월","화","수","목","금","토","일"],monthNamesShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],numberOfMonths:3}).on("change",function(){d.datepicker("option","maxDate",b(this))});function b(g){var f;try{f=$.datepicker.parseDate(a,g.value)}catch(e){f=null}return f}}$(document).ready(function(){$(".lists").html($("<table />",{"class":"tlists_basic",html:writeListHead($.parseJSON(listHeader))+writeListBody(bean.data)}));pageObj=$("#pagination").jPaginator(pageloadset);$(".paginator_p").addClass("ui-corner-all");if(nbCmtPages<=nbPageLength){$("#over_backward").addClass("disabled");$("#over_forward").addClass("disabled");$("#max_backward").addClass("disabled");$("#max_forward").addClass("disabled")}if($.getUrlVar("sf")&&$.getUrlVar("sv")){$("select[name=sf]").val($.getUrlVar("sf"));$("input[name=sv]").val($.getUrlVar("sv"));$("input[name=btn_list_all]").removeClass("hidden")}if($.getUrlVar("svdf")&&$.getUrlVar("svdt")){$("input[name=svdf]").val($.getUrlVar("svdf"));$("input[name=svdt]").val($.getUrlVar("svdt"));$("input[name=btn_list_all]").removeClass("hidden")}moveTopageSet();initCalendarSearchFrom();$("form input[name='mode']").val($.getUrlVar("mode"))});