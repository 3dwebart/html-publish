
var isChartDebug=false;var g_cType="TL";var chartDataArrayList=[];var g_ohlcArray=[];var g_volumeArray=[];var g_date=0,g_open=0,g_high=0,g_low=0,g_close=0,g_volume=0;var ZoomEnum=Object.freeze({HOUR:0,DAY:1,WEEK:2,WEEK2:3,MONTH:4,MONTH3:5});var CandleStickEnum=Object.freeze({MIN1:0,MIN5:1,MIN15:2,MIN30:3,HOUR:4,DAY:5});var g_ZoomType=ZoomEnum.DAY;var g_CandleStickType=CandleStickEnum.MIN5;var g_interval=5;var g_intervalId=null;var g_currencytype="ETC";var tmpdata;var plotLineConfig={color:"red",dashStyle:"dash",width:1,value:0,id:"current",zIndex:3,label:{text:"0.00",align:"left",x:15,style:{color:"#111111",fontSize:"9px"},}};function setChartZoomType(a){g_ZoomType=a}function getChartZoomType(){return g_ZoomType}function setCandleStick(a){g_CandleStickType=a}function getCandleStick(){return g_CandleStickType}$("#btn_graph_zoom_hour").click(function(){setChartZoomType(ZoomEnum.HOUR);zoomActiveRemove();$("#btn_graph_zoom_hour").addClass("active");if(isChartDebug){console.log("시간")}var a=$("#chartdiv").highcharts();a.rangeSelector.clickButton(0);a.redraw()});$("#btn_graph_zoom_day").click(function(){setChartZoomType(ZoomEnum.DAY);zoomActiveRemove();$("#btn_graph_zoom_day").addClass("active");if(isChartDebug){console.log("일별")}var a=$("#chartdiv").highcharts();a.rangeSelector.clickButton(1);a.redraw()});$("#btn_graph_zoom_week").click(function(){setChartZoomType(ZoomEnum.WEEK);zoomActiveRemove();$("#btn_graph_zoom_week").addClass("active");if(isChartDebug){console.log("주별")}var a=$("#chartdiv").highcharts();a.rangeSelector.clickButton(2);a.redraw()});$("#btn_graph_zoom_2week").click(function(){setChartZoomType(ZoomEnum.WEEK2);zoomActiveRemove();$("#btn_graph_zoom_2week").addClass("active");if(isChartDebug){console.log("2주별")}var a=$("#chartdiv").highcharts();a.rangeSelector.clickButton(3);a.redraw()});btn_graph_zoom_3month;$("#btn_graph_zoom_month").click(function(){setChartZoomType(ZoomEnum.MONTH);zoomActiveRemove();$("#btn_graph_zoom_month").addClass("active");if(isChartDebug){console.log("월별")}var a=$("#chartdiv").highcharts();a.rangeSelector.clickButton(4);a.redraw()});$("#btn_graph_zoom_3month").click(function(){setChartZoomType(ZoomEnum.MONTH);zoomActiveRemove();$("#btn_graph_zoom_3month").addClass("active");if(isChartDebug){console.log("3개월별")}var a=$("#chartdiv").highcharts();a.rangeSelector.clickButton(5);a.redraw()});$("#btn_graph_candlestick_1m").click(function(){setCandleStick(CandleStickEnum.MIN1);CandleStickActiveRemove();$("#btn_graph_candlestick_1m").addClass("active");if(isChartDebug){console.log("candlestick 1m")}generateChartDataMain(g_currencytype)});$("#btn_graph_candlestick_5m").click(function(){setCandleStick(CandleStickEnum.MIN5);CandleStickActiveRemove();$("#btn_graph_candlestick_5m").addClass("active");if(isChartDebug){console.log("candlestick 5m")}generateChartDataMain(g_currencytype)});$("#btn_graph_candlestick_15m").click(function(){setCandleStick(CandleStickEnum.MIN15);CandleStickActiveRemove();$("#btn_graph_candlestick_15m").addClass("active");if(isChartDebug){console.log("candlestick 15m")}generateChartDataMain(g_currencytype)});$("#btn_graph_candlestick_30m").click(function(){setCandleStick(CandleStickEnum.MIN30);CandleStickActiveRemove();$("#btn_graph_candlestick_30m").addClass("active");if(isChartDebug){console.log("candlestick 30m")}generateChartDataMain(g_currencytype)});$("#btn_graph_candlestick_1h").click(function(){setCandleStick(CandleStickEnum.HOUR);CandleStickActiveRemove();$("#btn_graph_candlestick_1h").addClass("active");if(isChartDebug){console.log("candlestick 1h")}generateChartDataMain(g_currencytype)});$("#btn_graph_candlestick_1d").click(function(){setCandleStick(CandleStickEnum.DAY);CandleStickActiveRemove();$("#btn_graph_candlestick_1d").addClass("active");if(isChartDebug){console.log("candlestick 1d")}generateChartDataMain(g_currencytype)});function zoomActiveRemove(){$("#btn_graph_zoom_hour").removeClass("active");$("#btn_graph_zoom_day").removeClass("active");$("#btn_graph_zoom_week").removeClass("active");$("#btn_graph_zoom_2week").removeClass("active");$("#btn_graph_zoom_month").removeClass("active");$("#btn_graph_zoom_3month").removeClass("active")}function CandleStickActiveRemove(){$("#btn_graph_candlestick_1m").removeClass("active");$("#btn_graph_candlestick_5m").removeClass("active");$("#btn_graph_candlestick_15m").removeClass("active");$("#btn_graph_candlestick_30m").removeClass("active");$("#btn_graph_candlestick_1h").removeClass("active");$("#btn_graph_candlestick_1d").removeClass("active")}function getHTMLCreateCustomHtmlTooltip(b,e,a,f,d){var c='<div class="main-chart-tooltip">';c+='<table style="width:130px;">';c+='<tr><td colspan="2"><b>'+b+"</b><br></td></tr>";c+='<tr><td width="40px;">'+langConvert("lang.viewChartBeginPrice","")+' : </td><td class="pull-right">'+calfloat("FLOOR",e,0).toString().formatBitcoin()+" "+langConvert("lang.common.currentCurrency","")+"<td/></tr>";c+="<tr><td>"+langConvert("lang.viewChartUpperLimitPrice","")+' : </td><td class="pull-right">'+calfloat("FLOOR",f,0).toString().formatBitcoin()+" "+langConvert("lang.common.currentCurrency","")+"<td/></tr>";c+="<tr><td>"+langConvert("lang.viewChartLowerLimitPrice","")+' : </td><td class="pull-right">'+calfloat("FLOOR",a,0).toString().formatBitcoin()+" "+langConvert("lang.common.currentCurrency","")+"<td/></tr>";c+="<tr><td>"+langConvert("lang.viewChartClosePrice","")+' : </td><td class="pull-right">'+calfloat("FLOOR",d,0).toString().formatBitcoin()+" "+langConvert("lang.common.currentCurrency","")+"<td/></tr>";c+="</table></div>";return c}function getHTMLCreateCustomHtmlTooltipArea(c,b){var a='<div class="main-areachart-tooltip">';a+='<table style="width:150px">';a+="<tr><td>"+langConvert("lang.viewChartStockPrice","")+' : </td><td class="pull-right">'+calfloat("FLOOR",Number(c),0).toString().formatBitcoin()+langConvert("lang.common.currentCurrency","")+"<td/></tr>";a+="<tr><td>"+langConvert("lang.viewChartRemainAmount","")+' : </td><td class="pull-right">'+b+langConvert("lang.common.encryptCurrency","")+"<td/></tr>";a+="</table></div>";return a}function updateTLChart(b,a,e,d,g,f){if(g_cType!="TL"){return}var c=$("#chartdiv").highcharts();g_ohlcArray.push([b,a,e,d,g]);g_volumeArray.push([b,f]);c.series[0].setData(g_ohlcArray);c.series[1].setData(g_volumeArray);g_volume=f;g_high=e;g_low=d;updateCurrentIndicator(g)}function updateRealTLChart(d,c,f,e){if(g_cType!="TL"){return}if(isChartDebug){console.log("updateRealTLChart event -> begin");console.log("date : "+g_date+" h : "+d+" low : "+c+" close : "+f+" volume : "+e);console.log(g_ohlcArray);console.log(g_ohlcArray.length)}var a=g_ohlcArray.length-1;if(a<0){return}g_ohlcArray[a][2]=d;g_ohlcArray[a][3]=c;g_ohlcArray[a][4]=f;g_volumeArray[a][1]=e;var b=$("#chartdiv").highcharts();b.series[0].setData(g_ohlcArray);b.series[1].setData(g_volumeArray);updateCurrentIndicator(f)}function onChartDataChange(a){if(g_cType!="TL"){return}if(!a){return}g_volume=g_volume+a[3];if(g_high<a[2]){g_high=a[2]}if(g_low>a[2]){g_low=a[2]}g_close=a[2];updateRealTLChart(g_high,g_low,g_close,g_volume)}function setTimer(){g_intervalId=setInterval(function(){g_date=g_date+(60000*g_interval);updateTLChart(g_date,g_close,g_close,g_close,g_close,0)},60000*g_interval)}function createChart(b,a){if(isChartDebug){console.log("createChart");console.log(a)}if(a=="TL"){if(isChartDebug){console.log("Timeline createChart()")}g_cType="TL";createTimelineChart(b)}else{if(a=="MD"){if(isChartDebug){console.log("Timeline createChart()")}g_cType="MD";createMarketdepthChart()}else{if(isChartDebug){console.log("Failed createChart !")}}}}function getFixedCountByCurrency(b){var a=8;if(b.toLowerCase()=="etc"){a=6}else{if(b.toLowerCase()=="eth"){a=4}else{if(b.toLowerCase()=="ltc"){a=5}else{if(b.toLowerCase()=="sc"){a=8}else{if(b.toLowerCase()=="bch"){a=4}}}}}return a}function updateCurrentIndicator(a){}function createTimelineChart(c){var a=[],b=[];groupingUnits=[["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1,2]],["month",[1,3,6]],["year",null]];Highcharts.theme={colors:["#cb4240","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:{linearGradient:{x1:0,y1:0,x2:1,y2:1},stops:[[0,"#151d23"],[1,"#151d23"]]},style:{fontFamily:"'Unica One', sans-serif"},plotBorderColor:"#606063"},title:{style:{color:"#E0E0E3",textTransform:"uppercase",fontSize:"20px"}},subtitle:{style:{color:"#E0E0E3",textTransform:"uppercase"}},xAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:"#A0A0A3"}}},yAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",tickWidth:1,title:{style:{color:"#A0A0A3"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.85)",style:{color:"#F0F0F0"}},plotOptions:{series:{dataLabels:{color:"#B0B0B3"},marker:{lineColor:"#333"}},candlestick:{color:"rgba(6,103,208,1)",lineColor:"rgba(6,103,208,1)",upColor:"rgba(213,64,93,1)",upLineColor:"rgba(213,64,93,1)"},boxplot:{fillColor:"#505053"},errorbar:{color:"#000"}},legend:{itemStyle:{color:"#E0E0E3"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#606063"}},credits:{style:{color:"#666"}},labels:{style:{color:"#707073"}},drilldown:{activeAxisLabelStyle:{color:"#F0F0F3"},activeDataLabelStyle:{color:"#F0F0F3"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",theme:{fill:"#505053"}}},rangeSelector:{buttonTheme:{fill:"#505053",stroke:"#000000",style:{color:"#CCC"},states:{hover:{fill:"#707073",stroke:"#000000",style:{color:"white"}},select:{fill:"#000003",stroke:"#000000",style:{color:"white"}}}},inputBoxBorderColor:"#505053",inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(255,255,255,0.1)",series:{color:"#7798BF",lineColor:"#A6C7ED"},xAxis:{gridLineColor:"#505053"}},scrollbar:{barBackgroundColor:"#808083",barBorderColor:"#808083",buttonArrowColor:"#CCC",buttonBackgroundColor:"#606063",buttonBorderColor:"#606063",rifleColor:"#FFF",trackBackgroundColor:"#404043",trackBorderColor:"#404043"},legendBackgroundColor:"rgba(0, 0, 0, 0.5)",background2:"#505053",dataLabelsColor:"#B0B0B3",textColor:"#C0C0C0",contrastTextColor:"#F0F0F3",maskColor:"rgba(255,255,255,0.3)"};Highcharts.setOptions(Highcharts.theme);Highcharts.setOptions({global:{useUTC:false}});Highcharts.stockChart("chartdiv",{navigation:{buttonOptions:{enabled:false}},rangeSelector:{inputEnabled:false,buttonTheme:{visibility:"hidden"},labelStyle:{visibility:"hidden"},buttons:[{type:"hour",count:1,text:"1H",},{type:"day",count:1,text:"1D",},{type:"week",count:1,text:"1W",},{type:"week",count:2,text:"2W",},{type:"month",count:1,text:"1M",},{type:"month",count:3,text:"3M",}],selected:g_ZoomType,display:false},title:{text:""},yAxis:[{labels:{formatter:function(){return this.value.formatWon()},align:"right",x:-3},title:{text:""},height:"60%",lineWidth:2,startOnTick:false,resize:{enabled:true}},{labels:{align:"right",x:-3},title:{text:""},top:"65%",height:"35%",offset:0,lineWidth:2}],tooltip:{formatter:function(){var d='<div style="text-align:right"><strong style="font-size:11px;font-weight:600">'+Highcharts.dateFormat("%Y-%m-%d %H:%M:%S",this.x)+"</strong></span>";$.each(this.points,function(){if(this.point.series.name=="Price"){d+=' | <span style=""><strong style="font-size:11px;font-weight:600">Open:</strong></span> <span style="font-size:11px"> '+Highcharts.numberFormat(this.point.options.open,0,".",",")+"</span>";d+=' | <span style="color:gray"><strong style="font-size:11px;font-weight:600">High:</strong></span> <span style="font-size:11px"> '+Highcharts.numberFormat(this.point.options.high,0,".",",")+"</span>";d+=' | <span style="color:gray"><strong style="font-size:11px;font-weight:600">Low:</strong></span> <span style="font-size:11px"> '+Highcharts.numberFormat(this.point.options.low,0,".",",")+"</span>";d+=' | <span style="color:gray"><strong style="font-size:11px;font-weight:600">Close:</strong></span> <span style="font-size:11px"> '+Highcharts.numberFormat(this.point.options.close,0,".",",")+"</span>"}else{if(this.point.series.name=="Volume"){d+=' | <span style="color:gray"><strong style="font-size:11px;font-weight:600">Volume:</strong></span> <span style="font-size:11px"> '+Number(this.point.options.y).toFixed(4)+"</span></div>"}}});return d},positioner:function(){return{x:5,y:18}},split:false,borderWidth:0,backgroundColor:"rgba(255,255,255,0)",shadow:false},series:[{type:"candlestick",name:"Price",data:a,dataGrouping:{units:groupingUnits}},{type:"column",name:"Volume",data:b,yAxis:1,dataGrouping:{units:groupingUnits}}]})}function createTimelineChart_old(d){var a=0;var b=[],c=[];groupingUnits=[["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1,2]],["month",[1,3,6]],["year",null]];Highcharts.setOptions({global:{useUTC:true,timezoneOffset:-8*60},lang:{thousandsSep:""},});charts=Highcharts.stockChart("chartdiv",{navigation:{buttonOptions:{enabled:false}},rangeSelector:{inputEnabled:false,buttonTheme:{visibility:"hidden"},labelStyle:{visibility:"hidden"},buttons:[{type:"hour",count:1,text:"1H",},{type:"day",count:1,text:"1D",},{type:"week",count:1,text:"1W",},{type:"week",count:2,text:"2W",},{type:"month",count:1,text:"1M",},{type:"month",count:3,text:"3M",}],selected:g_ZoomType,display:false},title:{text:""},plotOptions:{candlestick:{color:"rgba(6,103,208,1)",lineColor:"rgba(6,103,208,1)",upColor:"rgba(213,64,93,1)",upLineColor:"rgba(213,64,93,1)"}},xAxis:[{labels:{style:{color:"#999",fontSize:"9px"},},lineWidth:1,lineColor:"#d2d2d2",},{lineWidth:0,}],yAxis:[{labels:{formatter:function(){return this.value.toFixed(a)},align:"right",x:-3,style:{color:"#0000ff",fontSize:"10px"},},title:{text:""},height:"70%",lineWidth:0,offset:65,startOnTick:false,gridLineColor:"#f1f1f1",tickPixelInterval:40},{labels:{formatter:function(){return this.value.toFixed(a)},align:"right",x:-3,style:{color:"#ff00ff",fontSize:"10px"},},title:{text:""},top:"70%",height:"30%",offset:65,lineWidth:0,gridLineWidth:1,tickPixelInterval:40}],tooltip:{shared:true,split:false,useHTML:true,borderWidth:0,backgroundColor:"rgba(255,255,255,0)",shadow:false,borderRadius:0,valueDecimals:8},series:[{type:"candlestick",name:"Price",data:b,dataGrouping:{units:groupingUnits},},{type:"column",color:"rgba(255,100,255,255)",name:"Volume",data:c,width:10,yAxis:1,}],navigator:{maskFill:"rgba(200, 200, 200, 0.1)",xAxis:{lineWidth:1,lineColor:"#d2d2d2",labels:{style:{color:"#999",fontSize:"9px"},},},yAxis:{lineWidth:1,lineColor:"#d2d2d2",},series:{lineWidth:0.6,lineColor:"#d0ea00",fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#fff"],[1,"#fefff7"]]},marker:{enabled:false}}},scrollbar:{enabled:false,barBackgroundColor:"#f9f9f9",barBorderColor:"#d1d1d1",buttonArrowColor:"#999",buttonBackgroundColor:"#fff",trackBackgroundColor:"#fff"}})}function setChartData(b,c){if(g_cType=="MD"){return}var a=$("#chartdiv").highcharts();g_ohlcArray=b;g_volumeArray=c;if(isChartDebug){console.log("setChartData - begin")}a.series[0].setData(b);a.series[1].setData(c);a.redraw();if(g_intervalId!=null){clearInterval(g_intervalId);g_intervalId=null}setTimer()}function generateChartDataMain(b){if(g_cType=="MD"){return}g_currencytype=b;var a=getChartData(g_CandleStickType,b.toUpperCase(),function(f){var d=[],e=[];var g=0;f[0].open=f[0].close;f[0].low=f[0].close;tmpdata=f[1];for(var c=0;c<f.length;c++){if(g==0){if(f[c].close>0){g=1;f[c].open=f[c].close;f[c].low=f[c].close}}else{if(f[c].low==0){if(f[c].open>0){f[c].low=f[c].open}else{if(tmpdata){f[c]=tmpdata}}}else{tmpdata=f[c]}if(f[c].close==0){f[c].close=f[c].open}else{if(f[c].high==0){f[c].high=f[c].open}else{if(f[c].close<f[c].low){f[c].low=f[c].close}else{if(f[c].open>f[c].high){f[c].high=f[c].open}}}}d.push([f[c].date,f[c].open,f[c].high,f[c].low,f[c].close]);e.push([f[c].date,f[c].volume]);if(c==(f.length-1)){g_date=Number(f[c].date);g_open=Number(f[c].open);g_high=Number(f[c].high);g_low=Number(f[c].low);g_close=Number(f[c].close);g_volume=Number(f[c].volume);if(!isNaN(g_close)){updateCurrentIndicator(g_close)}else{updateCurrentIndicator(Number(f[c-1].close))}}}}setChartData(d,e)})}function changeChartData(a){if(isChartDebug){console.log("changeChartData")}}function getChartData(d,c,e){if(g_cType=="MD"){return}if(isChartDebug){console.log("getChartData");console.log(c)}var a="/getchartdata/chartlist/currency-btc";if(c&&typeof c==="string"){a="/getchartdata/chartlist/currency-"+c.toLowerCase()}var b="";switch(g_CandleStickType){case CandleStickEnum.MIN1:b=a+"/timetype-min/timevalue-1/";g_interval=1;break;case CandleStickEnum.MIN5:b=a+"/timetype-min/timevalue-5/";g_interval=5;break;case CandleStickEnum.MIN15:b=a+"/timetype-min/timevalue-15/";g_interval=15;break;case CandleStickEnum.MIN30:b=a+"/timetype-min/timevalue-30/";g_interval=30;break;case CandleStickEnum.HOUR:b=a+"/timetype-hour/timevalue-1/";g_interval=60;break;case CandleStickEnum.DAY:b=a+"/timetype-day/timevalue-1/";g_interval=60*24;break;default:console.log("Mismatch CandleStickEnumType!");break}$.getJSON(b,"",function(f){}).done(function(j){chartDataArrayList=[];if(j&&Array.isArray(j)){if(j[0].hasOwnProperty("result")&&Number(j[0].result)>0){var g=j.length;if(isChartDebug){console.log(g)}for(var h=0;h<j.length;h++){var f=j[h].j*1000;chartDataArrayList[h]=({date:f,open:Number(j[h].x),close:Number(j[h].q),high:Number(j[h].y),low:Number(j[h].z),volume:Number(j[h].k)})}var i=gCurrentChTicker.last;chartDataArrayList[g-1].close=Number(i);updateCurrentIndicator(Number(i));if(typeof e==="function"){e(chartDataArrayList)}}}}).fail(function(){})}function addPanel(){}function isNewChartNewData(b,a){var d=(new Date().format("mm"));var c=(new Date().format("dd"));var e=(new Date().format("MM"));if(b=="h"){a=(new Date(a)).format("mm");if(((a).toString()).charAt(0)==((d).toString()).charAt(0)){return false}else{return true}}else{if(b=="d"){a=(new Date(a)).format("dd");if(a==c){return false}else{return true}}else{if(b=="m"){a=(new Date(a)).format("MM");if(a==e){return false}else{return true}}}}}function procLastestChartDataUpdate(g){if(!g&&g.length==0){return}if(typeof g=="string"){try{g=$.parseJSON(g)}catch(f){return}}else{if(typeof g=="object"){}else{return}}if(g.length==0){return}var c=chartDataArrayList.length-1;if(chartDataArrayList.length==0){return}var d=new Date();if(chartDataArrayList[c]&&chartDataArrayList[c].hasOwnProperty("ch_date")){d=chartDataArrayList[c].ch_date}if(isNewChartNewData(g_ZoomType,d)){var b=getDefaultNewChartDateInsert();if(b.ch_date!=0){chartDataArrayList.unshift(b)}}var a=Number(g[0].tr_market_cost);if(chartDataArrayList.length==0){return}}function getDefaultNewChartDateInsert(){var b=getLastestChartDateFormat();var c={date:0,open:0,close:0,high:0,low:0,volume:0,value:0};if(chartDataArrayList&&chartDataArrayList.length>0&&(b).toString()!=(chartDataArrayList[0].ch_date).toString()){var a=chartDataArrayList[0].ch_close_cost;chartDataLastDate=(b).toString();c.date=(b).toString();c.open=a;c.low=a;c.high=a;c.close=a}return c}function getLastestChartDateFormat(){var a="";if(g_ZoomType==ZoomEnum.HOUR){var a=(new Date().format("mm"));a=(a.toString()).charAt(0)+"0";a=(new Date().format("yyyy-MM-dd HH:"+a+":00"))}else{if(g_ZoomType==ZoomEnum.DAY){a=(new Date().format("yyyy-MM-dd"))}else{if(g_ZoomType==ZoomEnum.MONTH){a=(new Date().format("yyyy-MM"))}}}return a}function createMarketdepthChart(){if(isChartDebug){console.log("createMarketdepthChart")}Highcharts.setOptions({lang:{thousandsSep:""}});Highcharts.chart("chartdiv",{navigation:{buttonOptions:{enabled:false}},credits:{enabled:false},chart:{type:"areaspline",},title:{text:""},subtitle:{text:""},xAxis:{reversed:false,title:{enabled:true,text:""},labels:{formatter:function(){return this.value}},maxPadding:0.05,showLastLabel:true},yAxis:{title:{text:""},labels:{formatter:function(){return this.value}},lineWidth:2},legend:{enabled:false},tooltip:{headerFormat:'<span style="color:{series.color}">{series.name}</span><br/>',pointFormat:"PRICE(KRW) : {point.x} <br>VOLUME("+g_currencytype.toUpperCase()+") : {point.y}",valueDecimals:8},plotOptions:{spline:{marker:{enable:false}}},series:[{name:"BUY",data:[],color:"#ff7e97",},{name:"SELL",data:[],color:"#74b7ff",}]})}var g_preDataMarketDeps=null;function onChartDrawMarketDeps(g){if(g_cType!="MD"){g_preDataMarketDeps=g;return}if(!g){g=g_preDataMarketDeps}if(isChartDebug){console.log("onChartDrawMarketDeps :"+g_preDataMarketDeps);console.log(g)}var e=JSON.parse(g);var a=e.length;var b=[],f=[];for(var c=0;c<a;c++){if(e[c][0]=="buy"){b.push([e[c][1],e[c][2]])}else{if(e[c][0]=="sell"){f.push([e[c][1],e[c][2]])}}}var d=$("#chartdiv").highcharts();d.series[0].setData(b);d.series[1].setData(f)};