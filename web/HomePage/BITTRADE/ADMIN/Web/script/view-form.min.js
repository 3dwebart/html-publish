
var bean=$.parseJSON($.base64.decode(jsonObject));var emptyFormData=false;$(document).ready(function(){$(document).tooltip();$("input[placeholder]").inputHints();$("input[name=token]").val(bean.token);$("#btn_list").click(function(){$(location).attr("href",bean.link.list)});$("#btn_submit").click(function(){var d=-1;$("body").showDialogProgress();$("form").attr("action",bean.link.update);$("#btn_submit").attr("disabled",true);$.post(bean.link.update,$("form").serialize(),function(g){d=parseInt(g.result);if(d>0){if($.getUrlVar("id")){$(location).attr("href",bean.link.done+"&id="+$.getUrlVar("id"))}else{$(location).attr("href",bean.link.done+"&id="+d)}}else{if(d==0){$("body").viewDialogMessage("<p>저장된 값과 입력된 값이 같아 변경된 항목이 없습니다.</p>",function(){document.location.reload()})}else{msg="";errorId="";for(var f in g){$("input[name="+f+"][required]").removeClass("errorinput");$("select[name="+f+"]").removeClass("errorinput");$("textarea[name="+f+"][required]").removeClass("errorinput");if(($("input[name="+f+"][required]").length||$("select[name="+f+"]").length||$("textarea[name="+f+"][required]").length)&&(g[f]==null||g[f].length==0||g[f]=="null")){if(errorId===""){errorId=f}$("input[name="+f+"][required]").addClass("errorinput");$("select[name="+f+"]").addClass("errorinput");$("textarea[name="+f+"][required]").addClass("errorinput")}else{var e=g[f]+"";e=e.replace(/\\'/gi,"'");e=e.replace(/\\"/gi,'"');$("input[name="+f+"]").val(e);$("select[name="+f+"]").val(e);$("textarea[name="+f+"]").val(e.replace(/\\r\\n/gi,"\r\n"))}}if(typeof(g.resultMsg)!="undefined"){errorId="";msg=g.resultMsg}showUpdateError(d,errorId,msg)}}},"json").done(function(){$("#btn_submit").removeAttr("disabled");$("body").hideDialogProgress()}).fail(function(){$("body").viewDialogMessage("<p>서버와 연결중 에러가 발생하였습니다.</p><p>잠시 뒤 다시 시도해 보세요.</p>",reload)}).always(function(){});return false});for(var b in bean.data){if(bean.data[b]){var a=bean.data[b]+"";a=a.replace(/\\'/gi,"'");a=a.replace(/\\"/gi,'"');$("input[type=text][name="+b+"],input[type=hidden][name="+b+"]").val(a);$("select[name="+b+"]").val(a);$("textarea[name="+b+"]").val(a.replace(/\\r\\n/gi,"\r\n"))}}if(bean.result<1){var c=bean.resultMsg;if(bean.result==0){c="수정할 데이터가 존재하지 않습니다."}$("body").viewDialogMessage("<p>"+c+"</p>",historyBack)}$("input[type=password]").val("")});function memberCheck(e,c,d){if(!c){return false}if(!d){d=""}var b=""+e+"="+c+"";var a=false;$.ajax({type:"POST",url:"/?mode=WebMember/ajaxIsMember",contentType:"application/x-www-form-urlencoded",datatype:"json",data:b,async:false,success:function(f){$("label[for='"+d+e+"']").html(f.msg);if(parseInt(f.result)>0){$("label[for='"+d+e+"']").addClass("ok");a=true}else{$("label[for='"+d+e+"']").addClass("error");a=false}$("input[name='"+d+e+"']").attr("title",f.msg);$("input[name='"+d+"mbNo']").val(f.mbNo);$("input[name='"+d+"mbId']").val(f.mbId);$("input[name='"+d+"mbNick']").val(f.mbNick)}});return a}function memberCheck2(e,c,d){if(!c){return false}if(!d){d=""}var b=""+e+"="+c+"";var a=false;$.ajax({type:"POST",url:"/?mode=WebMember/ajaxIsMember",contentType:"application/x-www-form-urlencoded",datatype:"json",data:b,async:false,success:function(f){$("label[for='"+d+"fromMbId']").html(f.msg);if(parseInt(f.result)>0){$("label[for='"+d+"fromMbId']").addClass("ok");a=true}else{$("label[for='"+d+"fromMbId']").addClass("error");a=false}$("input[name='"+d+"fromMbId']").attr("title",f.msg);$("input[name='"+d+"fromMbNo']").val(f.mbNo);$("input[name='"+d+"fromMbId']").val(f.mbId);$("input[name='"+d+"fromMbNick']").val(f.mbNick)}});return a}function num2won(d,b){val=b.value;strnum=val;var e=new Array();re=/^[1-9][0-9]*$/;num=val.toString().split(",").join("");if(!re.test(num)){b.value="";document.getElementById(d).innerHTML=""}else{wonshow(d);var c=new Array("","일","이","삼","사","오","육","칠","팔","구");var a=new Array("","십","백","천");var f=new Array("","만","억","조","경","해","시","양","구","간","정");for(i=num.length-1;i>=0;i--){e[i]=c[num.substr(num.length-1-i,1)];if(i>0&&e[i]!=""){e[i]+=a[i%4]}if(i%4==0){e[i]+=f[(i/4)]}}for(i=num.length-1;i>=0;i--){if(e[i].length==2){e[i-i%4]+="-"}if(e[i].length==1&&i>0){e[i]=""}if(i%4!=0){e[i]=e[i].replace("일","")}}e=e.reverse().join("").replace(/-+/g,"");document.getElementById(d).innerHTML="<b>"+number_format(strnum)+"</b><br />("+e+"원)"}}function wonshow(a){var b=document.getElementById(a);if(b){b.style.display="block"}}function wonhide(a){var b=document.getElementById(a);if(b){b.style.display="none"}};